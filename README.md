# Project 8 - Pentesting Live Targets

Time spent: **12** hours spent in total

> Objective: Identify vulnerabilities in three different versions of the Globitek website: blue, green, and red.

The six possible exploits are:
* Username Enumeration
* Insecure Direct Object Reference (IDOR)
* SQL Injection (SQLi)
* Cross-Site Scripting (XSS)
* Cross-Site Request Forgery (CSRF)
* Session Hijacking/Fixation

Each version of the site has been given two of the six vulnerabilities. (In other words, all six of the exploits should be assignable to one of the sites.)

## Blue

Vulnerability #1: SQL Injection

![SQLI](https://raw.githubusercontent.com/greenteas/week8-pentest-live-target/master/sqli.gif)

Inserting ```' OR SLEEP(5)=0--'``` after the URL of any salesperson's page (e.g. blue/public/salesperson.php?id=3) produces this vulnerability.

Vulnerability #2: Session Hijacking

![Session](https://raw.githubusercontent.com/greenteas/week8-pentest-live-target/master/sessionhijack.gif)

If you get the session ID of a logged in user and change the session ID of a logged out user to the one of the logged in user, the logged out user will get access into the admin section.


## Green

Vulnerability #1: User Enumeration

![USERENUM](https://raw.githubusercontent.com/greenteas/week8-pentest-live-target/master/userenum.gif)

When the username entered exists in the user list but the password is incorrect, the text "Log in was unsuccessful" appears in bold and has a span class of "failure." However, if the username entered does not exist in the user list, then the text "Log in was unsuccessful" appears without bold and has a span class of "failed." The different classes probably have different CSS values.

Vulnerability #2: Cross-Site Scripting

The vulnerability occurs when you put JavaScript such as ```<script>alert('I ate your cake.');</script>``` into the Feedback box on the Contact page (green/public/contact.php). When an admin goes into the staff page to see all the feedbacks, the scripts are executed. Getting the GIF of my own alert is difficult because other students added a redirect.


## Red

Vulnerability #1: Insecure Direct Object Reference

![CRSF](https://raw.githubusercontent.com/greenteas/week8-pentest-live-target/master/idor.gif)

Testy McTesterson's profile has an id of 10, and should not be available publicly yet. However going to red/public/salesperson.php?id=10 shows the profile. The green and blue sites redirect to back the Find Salesperson page when someone tries to go to the salesperson with id=10. This vulnerability also occurs with id=11, which is Lazy Lazyman's profile who got fired already.

Vulnerability #2: Cross-Site Request Forgery

![CRSF](https://raw.githubusercontent.com/greenteas/week8-pentest-live-target/master/csrf2.gif)

The forms on the red site have meaningless crsf_tokens. Regardless of what the crsf_token is, the user data edit form can be submitted and changes are saved.


## Notes

Describe any challenges encountered while doing the work

The XSS challenge was difficult there was a redirect placed by other students that made it difficult to add my own scripts.

